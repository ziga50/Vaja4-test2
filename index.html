<!DOCTYPE html>
<html lang="sl">
<head>
  <meta charset="utf-8" />
  <title>NEP RPE Občine</title>

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    #map {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

<div id="map"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
  // 1️⃣ Inicializacija mape (Slovenija)
  const map = L.map("map").setView([46.15, 14.99], 8);

  // 2️⃣ Basemap
  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    attribution: "© OpenStreetMap contributors"
  }).addTo(map);

  // 3️⃣ Stil poligonov
  function obcineStyle(feature) {
    return {
      color: "#0066cc",
      weight: 1,
      fillColor: "#66b3ff",
      fillOpacity: 0.5
    };
  }

  // 4️⃣ Popup (prilagodi imena atributov po potrebi)
  function onEachFeature(feature, layer) {
    if (feature.properties) {
      layer.bindPopup(
        "<b>Občina:</b> " + (feature.properties.NAZIV || "–")
      );
    }
  }

  // 5️⃣ Naloži GeoJSON
  fetch("./NEP_RPE_OBCINE.json")
    .then(response => response.json())
    .then(data => {
      const obcineLayer = L.geoJSON(data, {
        style: obcineStyle,
        onEachFeature: onEachFeature
      }).addTo(map);

      // Zoom na sloj
      map.fitBounds(obcineLayer.getBounds());
    })
    .catch(err => {
      console.error("Napaka pri nalaganju GeoJSON:", err);
    });
</script>

</body>
</html>
